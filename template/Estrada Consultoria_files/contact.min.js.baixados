var val=new Validate({formID:"form_contact",fields:{"contact_[name]":" required","contact_[email]":"email","contact_[phone]":"required","contact_[message]":"required"},submithandler:function(e){var r=serialize(e);beforeSend(e);var a=new XMLHttpRequest;a.open("POST","contato/send-contact",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.onload=function(){if(a.status>=200&&a.status<400)if(afterSend(e),isJson(a.responseText)){var r=JSON.parse(a.responseText);let n="A mensagem não pode ser enviada!",t=` <a href="javascript:;" class="btn primary" onclick="show_form(${e.id});">TENTAR NOVAMENTE</a>`,s="form-error";"success"==r.status&&(e.reset(),n="Mensagem enviada!",t=`<a href="javascript:;" class="btn primary" onclick="show_form(${e.id});">FECHAR</a>`,s="form-success");let o=document.createElement("div");o.className=s,o.innerHTML=` <h5>${n}</h5> <p>${r.message}</p> ${t} `,e.appendChild(o)}else{let r=document.createElement("div");r.className="form-error",r.innerHTML=`\n                        <h5>A mensagem não pode ser enviada!</h5>\n                        <p>Ocorreu um erro ao enviar sua mensagem, por favor verifique se os dados foram preenchidos corretamente e tente novamente.</p>\n                        <a href="javascript:;" class="btn primary" onclick="show_form(${e.id});">TENTAR NOVAMENTE</a>\n                    `,e.appendChild(r)}},a.onerror=function(r){afterSend(e);let a=document.createElement("div");a.className="form-error",a.innerHTML=`\n                <h5>A mensagem não pode ser enviada!</h5>\n                <p>Ocorreu um erro ao enviar sua mensagem, por favor verifique se os dados foram preenchidos corretamente e tente novamente.</p>\n                <a href="javascript:;" class="btn primary" onclick="show_form(${e.id});">TENTAR NOVAMENTE</a>\n            `,e.appendChild(a)},a.send(r)}});function beforeSend(e){var r=e.querySelector("fieldset");if(!r)return;let a=document.createElement("div");a.className="form-sending",a.innerHTML='<img src="site/views/_assets/images/load-black.svg" alt="Carregando..."> <h5>Carregando...</h5>',r.style.display="none",e.appendChild(a)}function afterSend(e){var r=e.querySelector(".form-sending");r&&r.remove()}function show_form(e){afterSend(e);var r=e.querySelector("fieldset");if(!r)return;r.style.display="",e.reset();let a=e.querySelector(".form-error");a&&a.remove();let n=e.querySelector(".form-success");n&&n.remove()}